<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Touring Record</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <!-- ã‚¹ãƒ—ãƒ©ãƒƒã‚·ãƒ¥ãƒ­ã‚´ -->
  <div id="splash">
    <img src="TouringRecord.png" alt="Touring Record Logo" id="logo">
  </div>

  <!-- ãƒ¡ã‚¤ãƒ³ãƒ•ã‚©ãƒ¼ãƒ ç”»é¢ -->
  <div id="main" style="display: none;">
    <section id="form-section">
  <!-- ãƒ•ã‚©ãƒ¼ãƒ ã®ä¸­èº« -->
</section>

    <header>
      <h1></h1>
      <p></p>
    </header>

    <div class="container">
      <form action="insert.php" method="post">
        <label>ğŸ“… æ—¥ä»˜</label>
        <input type="date" name="date" required>

        <label>ğŸ“ å‡ºç™ºåœ°</label>
        <input type="text" name="departure" placeholder="ä¾‹ï¼šæ¨ªæµœé§…" required>

        <label>ğŸ“ ç›®çš„åœ°</label>
        <input type="text" name="destination" placeholder="ä¾‹ï¼šèŠ¦ãƒæ¹–ã‚¹ã‚«ã‚¤ãƒ©ã‚¤ãƒ³" required>

        <button type="button" onclick="showRoute()">ğŸ“Œ åœ°å›³ã«è¡¨ç¤º</button>
        <div id="map"></div>

        <label>ğŸ“ ç·è·é›¢ï¼ˆkmï¼‰</label>
        <input type="number" name="distance">

        <label>â° å‡ºç™ºãƒ»å¸°å®…æ™‚åˆ»ãƒ»æ‰€è¦æ™‚é–“</label>
<div style="display: flex; gap: 10px; align-items: center; flex-wrap: wrap;">
  <div>
    <small>å‡ºç™º</small>
    <input type="time" name="startTime" id="startTime">
  </div>
  <div>
    <small>å¸°å®…</small>
    <input type="time" name="endTime" id="endTime">
  </div>
  <div>
    <small>æ‰€è¦æ™‚é–“</small>
    <input type="text" id="duration" readonly style="background-color: #eee;">
  </div>
</div>


        <<label>ğŸ’¸ è²»ç”¨ï¼ˆç›®å®‰ï¼‰</label>
        <select name="cost">
          <option value="1000æœªæº€">1000å††æœªæº€</option>
          <option value="1000-2000">1000ã€œ2000å††</option>
          <option value="2000-3000">2000ã€œ3000å††</option>
          <option value="3000-4000">3000ã€œ4000å††</option>
          <option value="4000-5000">4000ã€œ5000å††</option>
          <option value="5000-6000">5000ã€œ6000å††</option>
          <option value="6000-7000">6000ã€œ7000å††</option>
          <option value="7000-8000">7000ã€œ8000å††</option>
          <option value="8000-9000">8000ã€œ9000å††</option>
          <option value="9000-10000">9000ã€œ10000å††</option>
          <option value="10000-20000">10000ã€œ20000å††</option>
          <option value="20000-30000">20000ã€œ30000å††</option>
          <option value="30000-40000">30000ã€œ40000å††</option>
          <option value="40000-50000">40000ã€œ50000å††</option>
          <option value="50000ä»¥ä¸Š">50000å††ä»¥ä¸Š</option>
        </select>
        

        <label>ğŸ›£ï¸ ã‚³ãƒ¼ã‚¹ï¼ˆçµŒç”±åœ°ã‚’è¿½åŠ ãƒ»å‰Šé™¤ã§ãã¾ã™ï¼‰</label>
        <div id="routeContainer">
          <div class="route-input">
            <input type="text" name="route[]" placeholder="ä¾‹ï¼šæ¨ªæµœé§…">
          </div>
        </div>
        <button type="button" onclick="addRouteField()">ï¼‹ çµŒç”±åœ°ã‚’è¿½åŠ </button>
        

        <label>ğŸŒŸ æº€è¶³åº¦</label>
        <select name="rating">
          <option value="5">â˜…â˜…â˜…â˜…â˜…</option>
          <option value="4">â˜…â˜…â˜…â˜…â˜†</option>
          <option value="3">â˜…â˜…â˜…â˜†â˜†</option>
          <option value="2">â˜…â˜…â˜†â˜†â˜†</option>
          <option value="1">â˜…â˜†â˜†â˜†â˜†</option>
        </select>

        <label>ğŸ“ å‚™è€ƒ</label>
        <textarea name="note" rows="3"></textarea>

        <button type="submit" class="submit-btn">è¨˜éŒ²ã‚’ä¿å­˜ã™ã‚‹</button>
      </form>
    </div>
  </div>

  <script src="main.js"></script>

  <!-- Google Maps API & JS -->
  <script>
    let map;
    let departureMarker, destinationMarker;
    let geocoder;

    function initMap() {
      map = new google.maps.Map(document.getElementById("map"), {
        center: { lat: 35.6895, lng: 139.6917 },
        zoom: 8
      });
      geocoder = new google.maps.Geocoder();
    }

    function showRoute() {
      const departure = document.querySelector("input[name='departure']").value;
      const destination = document.querySelector("input[name='destination']").value;

      if (!departure || !destination) {
        alert("å‡ºç™ºåœ°ã¨ç›®çš„åœ°ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„");
        return;
      }

      geocoder.geocode({ address: departure }, function(results, status) {
        if (status === "OK") {
          const loc = results[0].geometry.location;
          if (departureMarker) departureMarker.setMap(null);
          departureMarker = new google.maps.Marker({ map, position: loc, label: "å‡º" });
          map.setCenter(loc);
        }
      });

      geocoder.geocode({ address: destination }, function(results, status) {
        if (status === "OK") {
          const loc = results[0].geometry.location;
          if (destinationMarker) destinationMarker.setMap(null);
          destinationMarker = new google.maps.Marker({ map, position: loc, label: "ç›®" });
        }
      });
    }
  </script>
  <script src="https://maps.googleapis.com/maps/api/js?key=YOUR_API_KEY&callback=initMap" async defer></script>

  <script>
    window.addEventListener("load", () => {
      const startTimeInput = document.getElementById("startTime");
      const endTimeInput = document.getElementById("endTime");
      const durationInput = document.getElementById("duration");
    
      function updateDuration() {
        const start = startTimeInput.value;
        const end = endTimeInput.value;
    
        if (start && end) {
          const [sh, sm] = start.split(":").map(Number);
          const [eh, em] = end.split(":").map(Number);
    
          let startMins = sh * 60 + sm;
          let endMins = eh * 60 + em;
    
          // æ—¥ã¾ãŸãå¯¾ç­–ï¼ˆ22:00 â†’ 01:00ï¼‰
          if (endMins < startMins) {
            endMins += 24 * 60;
          }
    
          const diffMins = endMins - startMins;
          const hours = Math.floor(diffMins / 60);
          const minutes = diffMins % 60;
    
          durationInput.value = `${hours}æ™‚é–“${minutes}åˆ†`;
        } else {
          durationInput.value = "";
        }
      }
    
      startTimeInput.addEventListener("input", updateDuration);
      endTimeInput.addEventListener("input", updateDuration);
    });
    </script>

<script>
  function addRouteField() {
    const container = document.getElementById("routeContainer");
  
    const wrapper = document.createElement("div");
    wrapper.className = "route-input";
    wrapper.style.display = "flex";
    wrapper.style.alignItems = "center";
    wrapper.style.marginTop = "8px";
  
    const input = document.createElement("input");
    input.type = "text";
    input.name = "route[]";
    input.placeholder = "ä¾‹ï¼šçµŒç”±åœ°";
    input.style.flex = "1";
    input.style.marginRight = "10px";
  
    const removeBtn = document.createElement("button");
    removeBtn.type = "button";
    removeBtn.textContent = "âœ–ï¸";
    removeBtn.style.background = "#e57373";
    removeBtn.style.color = "white";
    removeBtn.style.border = "none";
    removeBtn.style.padding = "6px 10px";
    removeBtn.style.borderRadius = "6px";
    removeBtn.style.cursor = "pointer";
    removeBtn.onclick = () => container.removeChild(wrapper);
  
    wrapper.appendChild(input);
    wrapper.appendChild(removeBtn);
    container.appendChild(wrapper);
  }
  </script>
  
  
    
</body>
</html>

